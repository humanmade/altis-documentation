---
order: 14
---

# Upgrading to v14

_If you are migrating from WordPress to Altis, check out
the [migrating guide here](../migrating-from-wordpress.md) first._

To upgrade to Altis v14, edit your `composer.json` and change the version
constraint for `altis/altis` and any local
environment modules to `^14.0.0`.

```json
{
  "require": {
	"altis/altis": "^14.0.0"
  },
  "require-dev": {
	"altis/local-server": "^14.0.0"
  },
  "config": {
	"platform": {
	  "php": "8.0"
	}
  }
}
```

Once you have made these changes run `composer update` and then run
the `wp altis migrate` command:

```sh
# For cloud environments
wp altis migrate

# For local server
composer server cli -- altis migrate
```

## Breaking Changes

### Modules removed  ###

#### Extended CPTs

Altis v14 no longer includes the `johnbillion/extended-cpts` package. If your
project requires it &mdash; if you are calling `register_extended_post_type()`
or `register_extended_taxonomy()` in your code &mdash; you can include it by
adding it as a dependency in your top-level `composer.json` file.

```sh
# Add Extended CPTs support
composer require johnbillion/extended-cpts
```

#### Workflows and Editorial Comments

Altis v14 no longer includes the workflows functionality. If you want to use
that functionality, you need to add the framework to your project.
In your top level project folder, add the `humanmade/workflows` framework
package.

```sh
# Add Workflows package
composer require "humanmade/workflows"
```

This provides the framework to create your own workflow as well as the
"Editorial Comments" functionality.

Altis Analytics also used the Workflows functionality to provide notifications
of Experiment results and so on. If you wish to reproduce that behaviour, you
can use the example in this [GitHub Gist](https://gist.github.com/mikelittle/f73ce199705d85f9a91431e9b88ad60a).

#### Publication Checklist

The Publication Checklist feature has been removed from Altis v14. If you wish
to use that functionality you can add the `humanmade/publication-checklist`
package to your project.

```sh
# Add publication checklist example
composer require "humanmade/publication-checklist"
```

This will provide you with the framework to write your own publication
checklist. If you want to use the previous Altis demo functionality as a
starting point, take a look at
the [Demo Github repository](https://github.com/humanmade/demo-publication-checklist)

#### WordPress SSO

Altis no longer natively supports using an external WordPress site as a Single
Sign On server. There are a number of off-the-shelf plugins providing this
functionality. Or you can roll your own perhaps
using [Delegated OAuth library](https://github.com/humanmade/delegated-oauth2)
as a starting point.

```php
// This example code is a starting point assuming you `require "humanmade/delegated-oauth2"` in your composer.json

define( 'HM_DELEGATED_AUTH_REST_BASE', 'https://your-oauth-server-url.tld/wp-json/' );
define( 'HM_DELEGATED_AUTH_CLIENT_ID', 'abc123xyz456' );
define( 'HM_DELEGATED_AUTH_ACCESS_TOKEN_CACHE_TTL', 60);
require_once __DIR__ . '/vendor/humanmade/delegated-oauth/plugin.php';
```

#### Multilingual Module

The Multilingual Module has been removed from Altis v14. This provided no
specific functionality. Rather some documented guidance. To add multilingual
capability to your Altis project you can continue
to [use off-the-shelf plugins](/getting-started/third-party-plugins/)
such as [MultilingualPress](https://multilingualpress.org/).

#### Authorship

The Authorship plugin has been removed from Altis v14. If you wish
to use that functionality you can add the open source `humanmade/authorship`
package to your project.

```sh
# Add publication checklist example
composer require "humanmade/authorship"
```

#### Robots.txt Support

Altis no longer includes support for a custom robots.txt file. Instead you can
use WordPress' built-in support for robots.txt
If you previously had some custom rules in the file `.config/robots.txt` in the
root of your project, you can add those rules to
the standard robots.txt returned from WordPress by hooking in to
the `robots_txt` filter.

```php
add_filter( 'robots_txt', 'my_extra_robots_txt_rules', 10 );

/**
 * Add extra robots.txt rules.
 *
 * @param string $content robots.txt file content generated by WordPress.
 *
 * @return string robots.txt file content including custom configuration.
 */
function my_extra_robots_txt_rules( $content ) {

	return $content . <<<ROBOTS

User-agent: Googlebot 
Disallow: /example-sub-folder/

User-agent: * 
Disallow: *.rss$

Sitemap: https://your-domain.tld/special-sitemap.xml

ROBOTS;
}
```

#### Sitemaps support

Altis no longer includes support for additional sitemaps functionality via the
Yoast SEO plugin. Instead you can use the built in functionality provided out of
the box by WordPress, which is enabled automatically. Additionally, several
off-the-shelf plugins (including Yoast SEO) provide functionality to enhance or
replace WordPress' functionality.

#### Yoast SEO Plugin

Altis no longer provides the Yoast SEO plugin. However you can install the
off-the-shelf plugin in your projects `composer.json` file.

```shell
## Add the Yoast SEO plugin
composer require "wppackagist/wordpress-seo"
```

If you are using the premium version of the plugin, follow
the [instructions on the Yoast website](https://yoast.com/help/how-to-install-yoast-plugins-using-composer/)
.

## Headline Features

